# backlog
- `backlog` 는 **큐에 저장할 수 있는 연결 요청 수의 최대값** 을 지정합니다.
- 클라이언트가 요청을 보내면, 요청은 대기 큐에 저장되며, 서버는 `accept` 호출로 큐에서 연결을 하나씩 처리합니다.
- 만약 큐가 가득 찼을 경우
    - 추가 연결 요청은 거부되거나 무시됩니다.
    - 클라이언트는 보통 `ECONNREFUSED` 오류를 받게 됩니다.

## Backlog의 동작 원리
- **클라이언트 연결 요청 수신**
    - 클라이언트가 서버에 연결 요청을 보냅니다. 이 요청은 서버의 대기 큐에 추가됩니다.

- **3-way handshake**
    - TCP에서는 연결 요청 시 3-way handshake를 수행합니다.
        - 연결이 완료되면 요청이 **완료된 연결 큐** 에 들어갑니다.
        - 아직 handshake가 완료되지 않은 요청은 **반완료 연결 큐** 에 보관됩니다.

- **Backlog 역할**
    - **Backlog 값** 은 대기 큐(반완료 큐 + 완료 큐)의 최대 크기를 지정합니다.
    - 대기 큐가 가득 찬 상태에서 새로운 연결 요청이 오면, 요청이 거부됩니다.
